<!doctype html>
<html lang="kr">
   <head>
   <meta charset="UTF-8">
   
   
     <title>Addressbook</title>
     <link rel="shortcut icon" href="https://lh3.googleusercontent.com/sHMKgiee-dwZHonhBF-7b4e9y7eXXk1_yxIeVoxJ3jj0IpAPil66SeI6qTz88iuK_Q=w300" />
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css')}}"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script type="text/javascript">
function layer_open(el){
	var $el = $('#' + el);
	$el.fadeIn();		//레이어의 id를 temp변수에 저장
	var $elWidth = ~~($el.outerWidth()),
		$elHeight = ~~($el.outerHeight()),
        docWidth = $(document).width(),
        docHeight = $(document).height();
		//bg 클래스가 없으면 일반레이어로 실행한다.
                       
		// 화면의 중앙에 레이어를 띄운다.
        if ($elHeight < docHeight || $elWidth < docWidth) {
            $el.css({
                marginTop: -$elHeight /4,
                marginLeft: -$elWidth/2
            })
        } else {
            $el.css({top: 0, left: 0});
        }
        $el.find('a.btn-layerClose').click(function(){
        	$el.fadeOut();
                           // 닫기 버튼을 클릭하면 레이어가 닫힌다.
            return false;
        });
}				


function toggle_object(el)
{   

    var obj = document.getElementById('favoriticon'+el);  
    if(!obj) return ;   
  
    if(obj.className=="fa fa-heart-o")
    {   
        obj.className="fa fa-heart"; 
        
    } 
    else 
    {   
        obj.className="fa fa-heart-o";
    }

}
</script>

<style>
a{margin-left:10px;}

</style>

</head>
<body>



<input type="checkbox" id="menu_state" checked>
<nav>
   <label for="menu_state"><i class="fa"></i></label>
   <ul>
      <li data-content={{contact_count}} class="unread">
         <a href="/">
            <i class="fa fa-inbox"></i>
            <span>Contacts</span>
         </a>
      </li>
      <li>
         <a href="/favorite">
            <i class="fa fa-heart"></i>
            <span>Favorites</span>
         </a>
      </li>
      <li>
         <a href="/recent">
            <i class="fa fa-paper-plane"></i>
            <span>Recent</span>
         </a>
      </li>
      <li data-content="2" class="unread">
         <a href="/trash">
            <i class="fa fa-trash"></i>
            <span>Trash</span>
         </a>
      </li>
      <li>
         <a href="/new">
            <i class="fa fa-plus"></i>
            <span>Plus</span>
         </a>
      </li>

   </ul>
</nav>
<main>
   <header></header>

   <div>

		<span class='search_window'>
			<input type='text' class='input_text' placeholder='search' />
		</span>
		<a class="fa fa-search" style = "color:#153d73; font-size: 20px"></a>

        <table class="contact_list">

        <thead> </thead>

        <tbody>
          <tr>
              <th scop="row" style="background: #f5f5f5">&nbsp;&nbsp;<i class="fa fa-heart" style="color:#ff0033"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;이름</th>
              <td style="background:#f5f5f5;font-weight: bold">전화번호</td> </tr>
              {%- for i in ADDRESSBOOK %}
              <th scope="row">
              <a href="#" onclick="toggle_object('{{i.name}}'); return false;" class= "fa fa-heart-o" style = "color : #ff0033" id = "favoriticon{{i.name}}" ></a>
              <a href = "#{{i.name}}" class="btn-example" onclick="layer_open('{{i.name}}'); return false;" > {{i.name }}</a>
              <div id="{{i.name}}" class="pop-layer" >
                   <div class="pop-container">
                   		<div class="pop-conts">연락처 상세보기<br><br>
                               <!--content //-->
                   			<p class = "ctxt mb20">{{ i.name }}<br>{{ i.number }}<br>{{i.email}}<br>
                              </p>

                               <div class="btn-r">
                                   <a href="/delete/{{i.name}}">Delete</a>  
                                   <a href="/edit" class="btn-layerClose">Edit</a>
                                   <a href="#" class="btn-layerClose">Close</a>
                               </div>
                               <!--// content-->
                           </div>
                       </div>
                </div>
                
              
              </th>
              <td>{{ i.number }}</td>
          </tr>
       {%- endfor %}
       </tbody>
      </table>
   </div>

</main>
</body>
</html>